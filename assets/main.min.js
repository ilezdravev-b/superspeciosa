!function(t){"function"==typeof define&&define.amd?define("main",t):t()}((function(){"use strict";window.EventBus=new class{constructor(){this.bus={}}on(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)this.on(t[n],e);else this.bus.hasOwnProperty(t)||(this.bus[t]=[]),this.bus[t].push(e)}remove(t){delete this.bus[t]}emit(t,e=null){if(this.bus.hasOwnProperty(t))for(const n of this.bus[t])n(e)}};const t=["mousedown","mousemove","keydown","scroll","touchstart"],e=()=>{window.EventBus.emit("page:interaction"),n(!0)},n=n=>{if(!0===n)for(const n of t)document.removeEventListener(n,e,!0);if(!0!==n)for(const n of t)document.addEventListener(n,e,!0)};window.addEventListener("load",n);const o={active:"is-active",visible:"is-visible"},i=(t,e,n,o)=>{n&&0!=o?t.setAttribute(e,n):t.removeAttribute(e)};function s(t,e){let n=e.getAttribute("aria-expanded");return n=t.target==e&&"false"==n?"true":"false",i(e,"aria-expanded",n),n}function c(t,e=!1){i(t,"aria-expanded",`${e}`,!0)}async function a(t,e=!0,n=300,s=!1){e&&(s&&i(t,"aria-hidden",void 0,!1),t.classList.add(o.active),await d(1),t.classList.add(o.visible)),e||(t.classList.remove(o.visible),await d(n),t.classList.remove(o.active),s&&i(t,"aria-hidden","true"))}function d(t){return t=t||2e3,new Promise((e=>{setTimeout((()=>{e()}),t)}))}class h{constructor(t,e){this.container=t,this.addedElement=e,this.eventHandler=this.handleKeydown.bind(this),this.observer=void 0,this.updateVariables(),this.observeContainer(),this.container.addEventListener("keydown",this.eventHandler)}updateVariables(){this.allFocusable=function(t=document){return Array.from(t.querySelectorAll('a[href], button, input:not([type="hidden"]), textarea, select, details, iframe, [tabindex]:not([tabindex="-1"])')).filter((t=>!t.hasAttribute("disabled")&&!t.getAttribute("aria-hidden")))}(this.container),this.addedElement&&this.allFocusable.unshift(this.addedElement),this.firstElement=this.allFocusable[0],this.lastElement=this.allFocusable[this.allFocusable.length-1]}observeContainer(){this.observer=new MutationObserver(this.updateVariables.bind(this)),this.observer.observe(this.container,{characterData:!1,childList:!0,attributes:!1,subtree:!0})}handleKeydown(t){if(!("Tab"===t.key))return;this.handleTabbing(t)||this.handleTabbingAway(t)}handleTabbing(t){const e=document.activeElement;if(t.shiftKey){if(this.addedElement&&!this.allFocusable.includes(e))return this.focusOn(this.firstElement,t);if(e===this.firstElement)return this.focusOn(this.lastElement,t)}else if(e==this.lastElement)return this.focusOn(this.firstElement,t);return!1}focusOn(t,e){return t.focus(),e.preventDefault(),!0}async handleTabbingAway(t){await d(10),this.allFocusable.includes(document.activeElement)||this.stopTrapFocus()}stopTrapFocus(){this.container.removeEventListener("keydown",this.eventHandler),this.observer.disconnect()}}function r(t,e,n,o=!0){const i=new IntersectionObserver((t=>{for(let n=0;n<t.length;n++){const s=t[n];if(s.isIntersecting){let t=s.target;e(t,s.boundingClientRect),o&&i.unobserve(t)}}}),n||{rootMargin:"50%",threshold:0});for(const e of document.querySelectorAll(t))i.observe(e)}class u{constructor(t,e,n,o=!1,i="[data-behavior='close-modal']",s=500){this.modal=t,this.modalDocument=t.firstElementChild,this.button=e,this.overlay=n,this.closeBtnSelector=i,this.closeBtns=[...this.modal.querySelectorAll(i)],this.timeout=s,this.trapButton=o,this.scrollAlreadyDisabled=window.pageScrollDisabled,this.eventHandler=this.modalEvent.bind(this),this.showModal(),this.attachEventListeners(),this.updateOnChange()}async showModal(){u.setModalAria(this.modal,this.modalDocument,!0),u.updateModalButton(this.button,!0),this.scrollAlreadyDisabled||function(){const t=document.body.style;document.documentElement.style.scrollBehavior="unset",window.scrollPosition=window.scrollY,window.scrollTo(0,window.scrollPosition),t.position="fixed",t.scrollbarGutter="stable",t.top=`-${window.scrollPosition}px`,window.pageScrollDisabled=!0}(),a(this.modal,!0,this.timeout),this.overlay&&a(this.overlay),await d(10),this.modalDocument.focus(),this.trapButton?this.trapFocus=new h(this.modal,this.button):this.trapFocus=new h(this.modal);let t={id:this.modal.id};const e=new CustomEvent("modalShowing",{bubbles:!1,cancelable:!0,detail:t});window.dispatchEvent(e)}hideModal(t=!0){this.observer.disconnect(),this.removeEventListeners(),this.trapFocus&&this.trapFocus.stopTrapFocus(),((t=document)=>{if(t){for(const e of t.querySelectorAll("iframe"))e.contentWindow?(e.src.startsWith("https://www.youtube")&&e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"),e.src.startsWith("https://player.vimeo")&&e.contentWindow.postMessage('{"method":"pause"}',"*")):e.src=e.src;for(const e of t.querySelectorAll("video"))e.pause()}})(this.modal),u.setModalAria(this.modal,this.modalDocument,!1),this.overlay&&t&&a(this.overlay,!1,this.timeout),u.updateModalButton(this.button,!1),this.scrollAlreadyDisabled||function(){const t=document.body.style;t.removeProperty("position"),t.removeProperty("top"),t.removeProperty("scrollbar-gutter"),window.scrollTo(0,window.scrollPosition),document.documentElement.style.removeProperty("scroll-behavior"),window.pageScrollDisabled=!1}(),a(this.modal,!1,this.timeout)}updateVariables(){this.modalDocument=this.modal.firstElementChild,this.closeBtns=[...this.modal.querySelectorAll(this.closeBtnSelector)]}updateOnChange(){this.observer=new MutationObserver(this.updateVariables.bind(this)),this.observer.observe(this.modal,{characterData:!1,childList:!0,attributes:!1,subtree:!0})}modalEvent(t){const e=t.target,n=t.type,o=t.key;("click"===n&&(this.closeBtns.includes(e)||e==this.button||e===this.overlay)||"keydown"===n&&"Escape"===o)&&(t.stopImmediatePropagation(),this.hideModal())}attachEventListeners(){document.addEventListener("click",this.eventHandler),this.modal.addEventListener("keydown",this.eventHandler);const t=this.modal,e=(t=!0)=>{this.hideModal(t)};window.addEventListener("closeModal",(function(n){n.preventDefault(),t.id==n.detail.id&&(n.detail.hasOwnProperty("hideOverlay")?e(n.detail.hideOverlay):e())}))}removeEventListeners(){document.removeEventListener("click",this.eventHandler),this.modal.removeEventListener("keydown",this.eventHandler)}static updateModalButton(t,e){t&&(e?(i(t,"aria-expanded","true"),t.classList.add(o.active)):(i(t,"aria-expanded","false"),t.classList.remove(o.active),t.focus()))}static setModalAria(t,e,n){e||(e=t.firstElementChild),i(t,"role","dialog",n),i(t,"aria-modal","true",n),i(e,"role","document",n),i(e,"tabindex","0",n);let o=t.dataset.ariaLabel||"Modal",s=e.dataset.ariaLabel||"Content";i(t,"aria-label",o,n),i(e,"aria-label",s,n)}}!function(){var t=!1;if("maxTouchPoints"in navigator)t=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)t=navigator.msMaxTouchPoints>0;else{var e=window.matchMedia&&matchMedia("(pointer:coarse)");e&&"(pointer:coarse)"===e.media?t=!!e.matches:"orientation"in window&&(t=!0)}return t}?window.addEventListener("touchstart",(function(){document.body.classList.contains("is-touch")||document.body.classList.add("is-touch")})):document.body.classList.add("is-touch");const l=".hamburger",m="#primaryHeader",f="#mobileMenu",w='.header__search[data-behavior="toggle-dropdown"]',p="#ajaxCartBtn",b="#promoBar",v="is-active",y="mobile-menu-open",g="aria-expanded",k=document.querySelector(l),_=document.querySelector(m),x=document.querySelector(f),M=document.querySelector(w),O=document.querySelector(p),$=document.querySelector(b),C=()=>{k.classList.contains(v)?_.classList.add(y):_.classList.remove(y)};k&&_&&x&&M&&O&&$&&(k.addEventListener("click",(function(){!M.hasAttribute(g)||1!=M.getAttribute(g)&&"true"!=M.getAttribute(g)||c(M,!1),d(1).then((function(){C()}))})),document.addEventListener("click",(function(t){if(x.classList.contains(v)){const e=t.target;let n=!_.contains(e)&&!x.contains(e);if($.contains(e)&&(n=!1),(e.matches(w)||e.matches(p))&&(n=!0),n)if(e.matches(w)){let t={id:x.id,hideOverlay:!1};const e=new CustomEvent("closeModal",{bubbles:!1,cancelable:!0,detail:t});window.dispatchEvent(e),C()}else k.click()}})));const L=document.getElementById("promoBar"),E=document.getElementById("primaryHeader"),T=document.querySelector(".menu-desktop"),j=(document.querySelector(".aph_bar_container"),document.querySelectorAll(".cart-total-value"),t=>{const e=t[0],n=document.documentElement.style;let o=e.boundingClientRect.height<24?24:e.boundingClientRect.height;e.isIntersecting||(o=0),n.setProperty("--promo-bar-height","44px"),n.setProperty("--header-height",`${E.offsetHeight}px`),n.setProperty("--desktop-menu-height",T.offsetHeight-1+"px")}),A=()=>{new IntersectionObserver(j).observe(L)};if(L){window.EventBus.on("page:interaction",A);const rt=document.querySelectorAll(".copy");let ut=0;function lt(){var t;ut=(ut+1)%rt.length,t=ut,rt.forEach(((e,n)=>{n===t?e.classList.add("active"):e.classList.remove("active")}))}setInterval(lt,5e3),rt[0].classList.add("active")}["load","scroll"].forEach((t=>{window.addEventListener(t,(function(){this.scrollY>L.clientHeight?document.body.classList.add("sticky-header"):document.body.classList.remove("sticky-header")}))}));const D="loaded",S={lazy:'[data-image-load="lazy"]',eager:'[data-image-load="eager"]',background:"[data-srcbackground]",interaction:'[data-image-load="interaction"]'},B=(t,e=t.getBoundingClientRect())=>{if(!t.classList.contains(D)){function n(){e.width>0?P(t,e,!0):d(200).then((()=>{n()}))}n()}};function I(t){t.style.backgroundImage=`url("${t.getAttribute("data-srcbackground")}")`,t.classList.add(D)}function H(){r(`${S.lazy}, ${S.eager}`,P)}function P(t,e,n=!1){const o=Array.from(t.querySelectorAll("source")),i=`${parseInt(Math.max(e.height,e.width))}px`;if(o.forEach((e=>{e.sizes=i,n&&(e.srcset=e.dataset.srcset,t.classList.add(D))})),0==o.length&&n)return t.sizes=i,t.hasAttribute("data-src")&&(t.src=t.getAttribute("data-src")),void t.classList.add(D)}const F=()=>{let t=`${S.lazy}:not(.${D})`,e=`${S.background}:not(.${D})`;Shopify.designMode&&(t=`${S.lazy}, ${S.interaction}`,e=`${S.background}`),r(t,B),r(e,I)};F(),[480,768,1024,1400,2e3].forEach((t=>{const e=window.matchMedia(`(max-width:${t}px)`);e.addEventListener?e.addEventListener("change",H):e.addListener(H)})),window.EventBus.on("page:interaction",(()=>{Array.from(document.querySelectorAll(`${S.interaction}:not(.${D})`)).forEach((t=>B(t)))})),document.addEventListener("fmSlideshowRendered",(()=>{H(),F()})),window.EventBus.on("content:changed",F),Shopify&&Shopify.designMode&&window.addEventListener("shopify:section:load",F);const N=".shopify-section";function R(t){const e=[...t.querySelectorAll("[data-src-asset]")];for(const t of e){const e=t.getAttribute("data-src-asset"),n=window.fmLoadedSectionAssets.includes(e),o=t.nodeName;n||("LINK"==o&&(window.fmLoadedSectionAssets.push(e),t.href=e,t.media="all"),"SCRIPT"!=o&&"IFRAME"!=o||(window.fmLoadedSectionAssets.push(e),t.src=e))}t.classList.add("loaded")}window.fmLoadedSectionAssets=[];const K=()=>{const t=[...document.querySelectorAll(N)];for(const e of t)R(e)};r(N,R),window.EventBus.on("page:interaction",(()=>{window.requestAnimationFrame(K)})),Shopify&&Shopify.designMode&&window.addEventListener("shopify:section:load",(()=>{window.fmLoadedSectionAssets=[],K()}));r("[data-video-load='lazy']",(t=>{t.querySelectorAll("source").forEach((t=>{const e=t.getAttribute("data-src");e&&(t.src=e)})),t.load(),t.classList.add("loaded"),t.hasAttribute("autoplay")&&t.hasAttribute("muted")&&t.play()}),{rootMargin:"20%"});class z extends HTMLElement{constructor(){super(),this.menu=this,this.classes={active:"is-active"},this.selectors={btn:".js-megamenu-btn",backBtn:".js-megamenu-btn-back",parent:".js-megamenu-parent",children:".js-megamenu-children"},this.content={overlay:document.getElementById(this.menu.getAttribute("data-overlay"))||!1,buttons:[...this.menu.querySelectorAll(this.selectors.btn)],firstLevelBtns:[],secondLevelBtns:[]},this.content.firstLevelBtns=this.content.buttons.filter((t=>!t.closest(this.selectors.children))),this.content.secondLevelBtns=this.content.buttons.filter((t=>t.closest(this.selectors.children))),this.data={allowAllOpen:!1,openAll:!1,openDropdowns:0,currentParent:!1,btnType:void 0,noOutsideClicks:"true"==this.menu.dataset?.noOutsideClicks||!1},this.t(),this.o()}t(){this.i("data-open-all","openAll",this.h.bind(this)),this.i("data-allow-all-open","allowAllOpen")}o(){this.menu.addEventListener("click",this.u.bind(this)),this.menu.addEventListener("keydown",this.u.bind(this)),this.menu.addEventListener("keyup",this.l.bind(this)),this.content.overlay&&this.content.overlay.addEventListener("click",this.m.bind(this,null,this.content.buttons,!0)),this.data.noOutsideClicks&&document.addEventListener("click",this.p.bind(this))}async u(t){const e=t.type;this.v(t),"click"===e&&this.g(t),"keydown"===e&&this.k(t)}g(t){const e=t.target,n=this.data.btnType;if(n)switch(n){case"firstLevel":this._(t,e);break;case"secondLevel":this.M(t);break;case"backBtn":this.O(t,e)}}$(t){const e=t.target,n=this.data.btnType;n&&"firstLevel"==n&&this._(t,e)}p(t){const e=t.target;!this.menu.contains(e)&&this.m()}k(t){"Escape"==t.key&&(this.data.openDropdowns>0&&t.stopPropagation(),this.C(!0)),"Tab"==t.key&&this.L()}l(t){"Tab"===t.key&&!t.target.closest(this.selectors.children)&&this.data.openDropdowns>0&&!this.data.allowAllOpen&&this.m()}v(t){const e=t.target;let n;this.data.currentParent=e.closest(this.selectors.parent),this.content.firstLevelBtns.includes(e)?n="firstLevel":this.content.secondLevelBtns.includes(e)?n="secondLevel":e.closest(this.selectors.backBtn)&&(n="backBtn"),this.data.btnType=n}_(t,e){const n=this.data.allowAllOpen;if(n&&this.T(e,t),!n)for(const e of this.content.firstLevelBtns)this.T(e,t);this.m(!1,this.content.secondLevelBtns),this.j()}M(t){for(const e of this.content.secondLevelBtns)this.T(e,t)}O(t=!1){const e=[...this.data.currentParent.querySelectorAll(this.selectors.btn)];this.m(t,e)}m(t,e=this.content.buttons){for(const t of e)this.T(t,null,"false");this.j(),t&&this.A(t)}C(t=!1){const e=this.D(t);e&&(this.T(e,null,"false"),e.focus()),this.j()}T(t,e,n=undefined){const o=this.S(t,e,n);this.B(t,o)}S(t,e,n=undefined){const o=t.getAttribute("aria-expanded").toString();null!=n&&t.setAttribute("aria-expanded",n);const i=n||s(e,t),c="true"===i;return i!==o&&(c?this.data.openDropdowns++:this.data.openDropdowns--,this.data.openDropdowns<0&&(this.data.openDropdowns=0)),c}B(t,e){const n=t.getAttribute("aria-controls"),o=document.getElementById(n);this.content.overlay&&(e?(t.querySelector(".e-n-menu-dropdown-icon-closed").style.display="none",t.querySelector(".e-n-menu-dropdown-icon-opened").style.display="inline"):(t.querySelector(".e-n-menu-dropdown-icon-closed").style.display="inline",t.querySelector(".e-n-menu-dropdown-icon-opened").style.display="none")),e?t.classList.add(this.classes.active):t.classList.remove(this.classes.active),a(o,e);const i=[...o.querySelectorAll(this.selectors.backBtn)];for(const t of i)t.setAttribute("aria-expanded",e)}j(){const t=this.content.overlay,e=this.data.openDropdowns>0;t&&a(t,e)}D(t=!1){let e=!1;const n=this.data.currentParent,o=!!n&&n.querySelector(`${this.selectors.btn}[aria-expanded="true"]`);if(t){let t,o=!!n&&n.parentElement;o&&(t=o.closest(this.selectors.parent)),t&&(e=t.querySelector(this.selectors.btn))}return o||e}async L(){const t=this.D();if(!t)return;const e=this.data.currentParent;let n;await d(10),n=document.activeElement,e&&!e.contains(n)&&this.O(!1,t)}h(){if(this.data.openAll){for(const t of this.content.firstLevelBtns)this.T(t,null,"true");this.j()}}A(t){const e=t.target;if(!this.content.firstLevelBtns.includes(e)&&this.data.currentParent){const t=this.data.currentParent.querySelector(this.selectors.btn);t&&t.focus()}}i(t,e,n){if(!this.menu.hasAttribute(t))return;const o=window.matchMedia(`${this.menu.getAttribute(t)}`);this.I(null,e,o.matches,n),o.addEventListener("change",this.I(null,e,o.matches,n))}I(t,e,n,o){this.data[e]=n,o&&"function"==typeof o&&o()}}var V,U;V="mega-menu",U=z,void 0===customElements.get(V)&&customElements.define(V,U);document.querySelector(".header__menu").addEventListener("click",(function(){const t=document.querySelector(".header__search-dropdown");"none"===t.style.display?t.style.display="block":t.style.display="none"}));document.addEventListener("click",(t=>{const e=t.target,n=e.dataset.behavior;if(!(n&&"modal"===n&&"false"===e.getAttribute("aria-expanded")))return;t.stopImmediatePropagation();const o=e.getAttribute("aria-controls"),i=document.getElementById(o),s=e.dataset.overlay;let c=!1;c=s?document.getElementById(s):document.getElementById("aboveHeaderOverlay"),new u(i,e,c,e.dataset.trapButton)})),window.addEventListener("showModal",(function(t){var e;t.preventDefault(),t.detail.id&&(e=t.detail.id,document.getElementById(e)&&(new u(document.getElementById(e),!1,document.getElementById("aboveHeaderOverlay"),!1),d(510).then((()=>{window.EventBus.emit("content:changed")}))))})),window.addEventListener("load",(function(){document.querySelectorAll(".sp-slider__slide").forEach((t=>{}))}));const X=(t,e)=>{const n=document.createElement("script");return t&&(n.src=t),e&&(n.textContent=e),n},Y=()=>{const t=window.fmData.klaviyo.apiKey,e=window.fmData.klaviyo.lazyloadOnsiteScript;if(t&&e)return X(`https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${t}`)};window.EventBus.on("page:interaction",(function(){let t=document.createDocumentFragment();[Y(),X("https://cdn.intelligems.io/249f0b7ed6b6.js")].forEach((e=>{"object"==typeof e&&t.appendChild(e)})),t.childElementCount>0&&document.head.appendChild(t)}));"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var q;(function(t,e){!function(){function t(t){var e=!0,n=!1,o=null,i={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(t){return!!(t&&t!==document&&"HTML"!==t.nodeName&&"BODY"!==t.nodeName&&"classList"in t&&"contains"in t.classList)}function c(t){var e=t.type,n=t.tagName;return!("INPUT"!==n||!i[e]||t.readOnly)||"TEXTAREA"===n&&!t.readOnly||!!t.isContentEditable}function a(t){t.classList.contains("focus-visible")||(t.classList.add("focus-visible"),t.setAttribute("data-focus-visible-added",""))}function d(t){t.hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added"))}function h(n){n.metaKey||n.altKey||n.ctrlKey||(s(t.activeElement)&&a(t.activeElement),e=!0)}function r(t){e=!1}function u(t){s(t.target)&&(e||c(t.target))&&a(t.target)}function l(t){s(t.target)&&(t.target.classList.contains("focus-visible")||t.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(o),o=window.setTimeout((function(){n=!1}),100),d(t.target))}function m(t){"hidden"===document.visibilityState&&(n&&(e=!0),f())}function f(){document.addEventListener("mousemove",p),document.addEventListener("mousedown",p),document.addEventListener("mouseup",p),document.addEventListener("pointermove",p),document.addEventListener("pointerdown",p),document.addEventListener("pointerup",p),document.addEventListener("touchmove",p),document.addEventListener("touchstart",p),document.addEventListener("touchend",p)}function w(){document.removeEventListener("mousemove",p),document.removeEventListener("mousedown",p),document.removeEventListener("mouseup",p),document.removeEventListener("pointermove",p),document.removeEventListener("pointerdown",p),document.removeEventListener("pointerup",p),document.removeEventListener("touchmove",p),document.removeEventListener("touchstart",p),document.removeEventListener("touchend",p)}function p(t){t.target.nodeName&&"html"===t.target.nodeName.toLowerCase()||(e=!1,w())}document.addEventListener("keydown",h,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("pointerdown",r,!0),document.addEventListener("touchstart",r,!0),document.addEventListener("visibilitychange",m,!0),f(),t.addEventListener("focus",u,!0),t.addEventListener("blur",l,!0),t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host?t.host.setAttribute("data-js-focus-visible",""):t.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var e;window.applyFocusVisiblePolyfill=t;try{e=new CustomEvent("focus-visible-polyfill-ready")}catch(t){(e=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(e)}"undefined"!=typeof document&&t(document)}()})(q={exports:{}},q.exports);const G="[data-behavior='toggle-dropdown']",J=".js-toggle-dropdown",Q=".overlay",W="#mobileMenu",Z=".hamburger",tt="is-active",et=t=>{const e=t.target.closest(G),n=t.target.closest(J),o=t.target.closest(Q),i=t.type;"click"==i&&e&&((t,e)=>{const n=document.getElementById(e.getAttribute("aria-controls")),o=document.getElementById(e.dataset.overlay);if(!n)return;s(t,e);const i="true"==e.getAttribute("aria-expanded");a(n,i);const c=document.querySelector(W),d=document.querySelector(Z);if(i&&d&&c&&c.classList.contains(tt)){let t={id:c.id,hideOverlay:!1};const e=new CustomEvent("closeModal",{bubbles:!1,cancelable:!0,detail:t});window.dispatchEvent(e)}else a(o,i)})(t,e),"keydown"==i&&"Escape"==t.key&&n&&(t=>{const e=document.querySelector(`[aria-controls="${t.id}"]`),n=document.getElementById(e.dataset.overlay);e&&(a(n,!1),a(t,!1),e.setAttribute("aria-expanded","false"),e.focus())})(n),"click"==i&&o&&((t,e)=>{const n=document.querySelector(G),o=document.getElementById(n.getAttribute("aria-controls"));if(e==document.getElementById(n.dataset.overlay)){if(!o)return;s(t,n);const i="true"==n.getAttribute("aria-expanded");a(o,i),a(e,i)}})(t,o)},nt=()=>{const t=document.querySelector(".header__search-dropdown"),e=document.querySelector(".breadcrumbs__wrapper"),n=document.querySelectorAll(".breadcrumbs__item")[1],o=(window.location.pathname.includes("products"),window.location.search?.split("colhandle=")[1]?.split("&")[0]);if(o){const t=decodeURIComponent(window.location.search?.split("coltitle=")[1].split("&")[0]||"").replace(/\+/g," "),e=t.includes("&")?"Collections":t;n.innerText=e||n.innerText,n.href=o?`/collections/${o}`:collectionAllLink}e&&(e.style.visibility="visible");let i=window.pageYOffset;t.style.display=i>60?"none":"block"};window.addEventListener("scroll",nt),document.addEventListener("DOMContentLoaded",(()=>{nt()})),document.addEventListener("click",et),document.addEventListener("keydown",et);const ot=".js-ajax-btn",it="#ajaxCart",st="aria-controls",ct="is-active",at=document.querySelector(it),dt=document.querySelectorAll(ot),ht=()=>{a(at,!1);for(const t of[...dt])c(t,!1)};at&&document.addEventListener("click",(t=>{const e=t.target,n=e.closest(ot);fetch("/cart.json").then((t=>t.json())).then((t=>{const e=document.querySelector(".header__cart-count");e?(e.innerHTML=t.item_count,e.closest(".cart-count-buddle").style.display="flex"):e.closest(".cart-count-buddle").style.display="none"})),n?n.hasAttribute(st)&&(at.classList.contains(ct)?ht():(()=>{a(at,!0);for(const t of[...dt])c(t,!0)})()):e.closest(it)||ht()}))}));