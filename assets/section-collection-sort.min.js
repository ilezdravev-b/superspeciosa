!function(t){"function"==typeof define&&define.amd?define("collectionSort",t):t()}((function(){"use strict";const t="collectionProducts",e='[type="radio"]',o="data-id";class n extends HTMLElement{constructor(){super(),this.sort=this,this.options=this.sort.querySelectorAll(e),this.modalID=this.hasAttribute(o)?this.getAttribute(o):""}connectedCallback(){for(const t of[...this.options])t.addEventListener("change",this.t.bind(this))}t(e){const o=e.target.value;let n=new URL(window.location.href);n.searchParams.set("sort_by",o),fetch(n.href).then((t=>t.text())).then((e=>{const o=(new DOMParser).parseFromString(e,"text/html").documentElement.querySelector(`#${t}`);document.querySelector(`#${t}`).innerHTML=o.innerHTML,window.history.pushState({},"",n.href),window.EventBus.emit("content:changed");let s={id:this.modalID,hideOverlay:!0};const c=new CustomEvent("closeModal",{bubbles:!1,cancelable:!0,detail:s});window.dispatchEvent(c)}))}}var s,c;s="collection-sort",c=n,void 0===customElements.get(s)&&customElements.define(s,c)}));