!function(t){"function"==typeof define&&define.amd?define("recentlyViewedProducts",t):t()}((function(){"use strict";const t={slideshow:"sp-slider",content:{dots:"sp-slider__dots",dot:"sp-slider__dot",dotWrapper:"sp-slider__dot-wrapper",dotCurrent:"current",slides:"sp-slider__slides",slidesFade:"sp-slider__slides--fade",slide:"sp-slider__slide",slideAlignStart:"sp-slider__slide--align-start",clone:"sp-slider__clone",offsetLeft:"sp-slider__offset",offsetRight:"sp-slider__offset"},scroll:{snapNone:"no-scroll-snap",none:"no-scroll",noTransition:"no-transition"},state:{active:"is-active",current:"is-current",hasVerticalDots:"sp-slider--has-vertical-dots",dotsVertical:"sp-slider__dots--vertical",dotsOverflowing:"sp-slider__dots--overflowing",dotsVisible:"sp-slider__dots--visible",dotThumb:"sp-slider__dot--thumb",dotStandard:"sp-slider__dot--standard",destroyed:"sp-slider__element--destroyed",isScrolling:"sp-slider__slides--scrolling",slideshowActive:"sp-slider--active",slideshowLoaded:"sp-slider--loaded",autoplayPaused:"is-paused"}};function o(t){return document.createElement(t)}function i(t,o,i){t.setAttribute(o,i)}function e(t,o){t.removeAttribute(o)}function n(o,i){const e=o.slider,n=t.state.slideshowActive,s=o.settings.dotsVertical,r=t.state.hasVerticalDots;!function(o,i){const e=t.state.destroyed,n=t.slideshow,s=o.slider;i?s.classList.add(n):s.classList.remove(n);for(const n in o.content){let s=t.content[n],r=o.content[n];if(!(r instanceof Array)&&r&&(r=[r]),!(s instanceof Array)&&s&&(s=[t.content[n]]),r){if(i)for(const t of r)s&&t.classList.add(...s),t.classList.remove(e);if(!i)for(const t of r)s&&t.classList.remove(...s),"slides"!=n&&t.classList.add(e)}}}(o,i),function(o,i){for(const e of o.arrays.slides){const n=t.content.slide,s=t.content.slideAlignStart;i&&(e.classList.add(n),o.settings.carousel?e.classList.remove(s):e.classList.add(s)),i||e.classList.remove(n,s)}}(o,i),i?e.classList.add(n):e.classList.remove(n),s&&i?e.classList.add(r):e.classList.remove(r)}const s={ariaLabel:!1,autoplay:!1,autoplaySeconds:3,carousel:!1,destroy:!1,dotsVertical:!1,dotThumbWidth:200,dotThumbHeight:200,dotThumbnails:!1,infinite:!1,dotsShow:!0,carouselOffset:10,offsetLeft:0,offsetRight:0,slidesToScroll:1,slidesToShow:1,fade:!1,selectors:{dots:".js-sp-slider-dots",dot:".js-sp-slider-dot",slides:".js-sp-slider-slides",slide:".js-sp-slider-slide",prevBtn:".js-sp-slider-prev",nextBtn:".js-sp-slider-next",autoplayBtn:".js-sp-slider-autoplay-btn",autoplayBtnText:".js-sp-slider-autoplay-btn-text"},responsive:[]};function r(){var t=!1;if("maxTouchPoints"in navigator)t=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)t=navigator.msMaxTouchPoints>0;else{var o=window.matchMedia&&matchMedia("(pointer:coarse)");o&&"(pointer:coarse)"===o.media?t=!!o.matches:"orientation"in window&&(t=!0)}return t}const c=function(){for(var t={},o=function(o){for(var i in o)o.hasOwnProperty(i)&&("[object Object]"===Object.prototype.toString.call(o[i])?t[i]=c(t[i],o[i]):t[i]=o[i])},i=0;i<arguments.length;i++)o(arguments[i]);return t};function a(t,o,i){t.Events.on("initialize.before",l),function(t,o){t.slider=o,t.index=0,t.indexPrev=-1,t.baseSettings={},t.settings={},t.id=o.fmSlideID,t.content={offsetLeft:void 0,offsetRight:void 0,prevBtn:void 0,nextBtn:void 0,dots:void 0,slides:void 0},t.state={isScrolling:!1,isMobile:r(),lessMotion:window.matchMedia("(prefers-reduced-motion: reduce)").matches,scrollingForward:!0},t.data={slidesWidth:void 0,slideWidth:void 0,viewportWidth:window.innerWidth,carouselOffset:0,dotsToShow:void 0,cloneCount:0,autoplayTimer:!1,runSlider:!0},t.arrays={allSlides:[],slides:[],activeSlides:[],dots:[],clones:[],images:[]}}(t,o),function(t,o,i){let e=o||!1,n={};const s=t.slider;!e&&s.hasAttribute("data-sp-slider")&&(e=JSON.parse(s.getAttribute("data-sp-slider")));n=d(t,e,i),Object.freeze(n),t.baseSettings=n}(t,i,s),l(t)}function l(t){t.data.viewportWidth=window.innerWidth;const o=t.baseSettings.responsive;if(o&&o.length>0){const i=o.find((o=>o.breakpoint>=t.data.viewportWidth));t.settings=i?d(t,i.settings,t.baseSettings):t.baseSettings}else t.settings=t.baseSettings}function d(t,o,i){const e=c(i,o);return t.state.isMobile&&(e.infinite=!1,e.fade=!1),e.carousel&&(e.fade=!1),e}function f(t){!function(t){const o=t.id;for(const i in t.content){const e=t.settings.selectors[i];let n=[...t.slider.querySelectorAll(e)];const s=n.length;1===s&&(t.content[i]=n[0]),s>1&&(t.content[i]=n);for(const[t,e]of n.entries())u(e,i,o,t)}}(t),function(t){const o=t.settings.selectors.slide;let i=[],e=[],n=[];i=[...t.slider.querySelectorAll(o)],0===i.length&&(i=[...t.content.slides.children]);for(const t of i){const o=t.querySelector("img");o&&n.push(o)}for(let o=0;o<t.settings.slidesToShow;o++)e.push(i[o]);t.arrays.activeSlides=e,t.arrays.slides=i,t.arrays.allSlides=i,t.arrays.images=n}(t),function(t){const o=t.content.dots,i=t.settings.selectors.dot,e=t.slider.querySelector(i);e&&o&&(t.arrays.dots=[...o.querySelectorAll(i)])}(t)}function u(t,o,e,n){let s=o;var r;n>0&&(s+=n),i(t,"id",`SpSlider${r=s,r.charAt(0).toUpperCase()+r.slice(1)}-${e}`),o.includes("Btn")&&i(t,"aria-controls",`SpSliderSlides-${e}`)}var h,p,v=(h=function(t,o){t.exports={polyfill:function(){var t=window,o=document;if(!("scrollBehavior"in o.documentElement.style)||!0===t.t){var i,e=t.HTMLElement||t.Element,n=468,s={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:e.prototype.scroll||a,scrollIntoView:e.prototype.scrollIntoView},r=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now,c=(i=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(i)?1:0);t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?p.call(t,o.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):s.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?s.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):p.call(t,o.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},e.prototype.scroll=e.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var t=arguments[0].left,o=arguments[0].top;p.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===o?this.scrollTop:~~o)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},e.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},e.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var i=function(t){for(;t!==o.body&&!1===u(t);)t=t.parentNode||t.host;return t}(this),e=i.getBoundingClientRect(),n=this.getBoundingClientRect();i!==o.body?(p.call(this,i,i.scrollLeft+n.left-e.left,i.scrollTop+n.top-e.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:e.left,top:e.top,behavior:"smooth"})):t.scrollBy({left:n.left,top:n.top,behavior:"smooth"})}else s.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function a(t,o){this.scrollLeft=t,this.scrollTop=o}function l(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function d(t,o){return"Y"===o?t.clientHeight+c<t.scrollHeight:"X"===o?t.clientWidth+c<t.scrollWidth:void 0}function f(o,i){var e=t.getComputedStyle(o,null)["overflow"+i];return"auto"===e||"scroll"===e}function u(t){var o=d(t,"Y")&&f(t,"Y"),i=d(t,"X")&&f(t,"X");return o||i}function h(o){var i,e,s,c,a=(r()-o.startTime)/n;c=a=a>1?1:a,i=.5*(1-Math.cos(Math.PI*c)),e=o.startX+(o.x-o.startX)*i,s=o.startY+(o.y-o.startY)*i,o.method.call(o.scrollable,e,s),e===o.x&&s===o.y||t.requestAnimationFrame(h.bind(t,o))}function p(i,e,n){var c,l,d,f,u=r();i===o.body?(c=t,l=t.scrollX||t.pageXOffset,d=t.scrollY||t.pageYOffset,f=s.scroll):(c=i,l=i.scrollLeft,d=i.scrollTop,f=a),h({scrollable:c,method:f,startTime:u,startX:l,startY:d,x:e,y:n})}}}},h(p={exports:{}},p.exports),p.exports),w=v.polyfill;function b(t,o){let i=!1;const e="boolean"==typeof t[o],n=e?1==t[o]:t[o]>0,s=t.responsive.find((t=>e?1==t.settings[o]:t.settings[o]>0));return(n||s)&&(i=!0),i}function g(i){w(),i.Events.emit("build.before",i),function(t){const o=b(t.baseSettings,"dotsShow"),i=t.content.dots;if(t.arrays.dots=[],i&&o){const o=new DocumentFragment,e=t.arrays.slides.length,n=t.id;for(let i=0;i<e;i++){const e=m(i,t,n);o.append(e)}i.innerHTML="",i.append(o)}}(i),function(t){const i=b(t.baseSettings,"offsetLeft")||b(t.baseSettings,"offsetRight"),e=t.content;if(!i)return;const n=o("div"),s=o("div");e.offsetLeft=n,e.offsetRight=s,e.slides.prepend(n),e.slides.append(s)}(i),function(o){if(!CSS.supports("scroll-padding-left","auto")){const i=t.scroll.snapNone,e=o.content.dots;o.content.slides.classList.add(i),e&&e.classList.add(i)}}(i),i.Events.emit("build.after",i),function(o){o.slider.classList.add(t.state.slideshowLoaded)}(i)}function m(e,n,s){const r=o("div"),c=o("input"),a=o("label"),l=o("span"),d=n.settings.selectors.dot.replace(".",""),f=n.settings.dotThumbWidth,u=n.settings.dotThumbHeight;r.classList.add(t.content.dotWrapper),l.textContent=`Go to slide ${e+1}`,l.classList.add("sr-only"),i(a,"for",`slideDot${s}-${e}`),i(c,"type","radio"),i(c,"name",`slideDot${s}`),i(c,"data-slide-index",e),c.classList.add(d,t.content.dot),i(c,"id",`slideDot${s}-${e}`);let h=!1;const p=n.arrays.images[e],v=!!p&&(p.getAttribute("data-original-image")||p.getAttribute("data-src")||p.src);return v&&(h=`${v}&width=${f}&height=${u}&crop=center`),h&&a.setAttribute("data-slide-image",h),e==n.index&&(c.classList.add(t.content.dotCurrent),c.checked=!0),n.arrays.dots.push(c),a.append(l),r.append(c),r.append(a),r}function y(t){const o=b(t.baseSettings,"autoplay");if(t.Events.on("initialize",S),!o)return;const i=function(t){const o=t.advanceSlideshow.bind(t),i=t.slider,e={timer:void 0,interval:void 0,stopped:!1,slidesToScroll:t.settings.slidesToScroll,button:i.querySelector(t.settings.selectors.autoplayBtn),start(){e.stopped||(e.stop(),e.timer=setInterval((()=>{o(e.slidesToScroll)}),e.interval))},stop(){clearInterval(e.timer)},initialize(t){const o=t.settings,i=o.autoplay&&!o.destroy&&!t.state.lessMotion;this.interval=1e3*t.settings.autoplaySeconds,i?(e.stopped=!1,this.start()):(e.stopped=!0,this.stop())}};return t.EventListeners.on(["mouseenter","focus","touchstart"],i,e.stop.bind(this),!0),t.EventListeners.on(["mouseleave","blur","touchend"],i,e.start.bind(this),!0),t.EventListeners.on("click",i,$.bind(null,t,e),!0),e}(t);return t.Events.on("initialize",i.initialize.bind(i)),i}function S(o){const i=o.settings.autoplay,e=o.settings.destroy,n=t.state.destroyed,s=o.slider.querySelector(o.settings.selectors.autoplayBtn);s&&(i&&!e?s.classList.remove(n):s.classList.add(n))}function $(o,i,e){const n=i.button,s=t.state.autoplayPaused,r=n?n.querySelector(o.settings.selectors.autoplayBtnText):"";if(n&&r&&e.target===n){n.classList.toggle(s);n.classList.contains(s)?(i.stopped=!0,i.stop(),r.textContent="Start autoplay"):(i.stopped=!1,i.start(),r.textContent="Stop autoplay")}}function _(t){const o=t.slider;t.EventListeners.on("click",o,x.bind(null,t)),t.EventListeners.on("change",o,x.bind(null,t))}function x(t,o){const i=t.state.isScrolling,e=t.settings.destroy,n=o.type;if(!i&&!e)switch(n){case"click":!function(t,o){let i;const e=t.index,n=t.settings.slidesToScroll,s=o.target,r=t.content.prevBtn,c=t.content.nextBtn,a=t.settings.infinite||t.settings.fade;let l,d=!1;(s===c||c instanceof Array&&c.includes(s))&&(d=e+n,l=!0);(s===r||r instanceof Array&&r.includes(s))&&(d=e-n,l=!1);if(!1===d)return;i=a?d:T(t,d,l),t.Events.emit("goto",t,i),t.Events.emit("index.changed",t)}(t,o);break;case"change":!async function(t,o){const i=o.target,e=t.arrays.dots.includes(i);if(e){const o=i.getAttribute("data-slide-index")||t.arrays.slides.indexOf(document.getElementById(i.getAttribute("aria-controls")));t.Events.emit("goto",t,parseInt(o))}}(t,o)}}function T(t,o,i){const e=t.content.slides.scrollWidth,n=function(t,o){const i=t.arrays.slides.length;return o<0?i-1:o>i-1?0:o}(t,o),s=t.arrays.slides[n],r=t.arrays.slides.length,c=t.settings.slidesToScroll,a=s.offsetLeft,l=t.data.slideWidth*parseInt(t.settings.slidesToShow);let d=e-(a+l)<0;if(t.settings.carousel&&(d=e-(a+l/2)<0),d){let o=i?n+c:n-c;return o<0&&(o=r-1),o>r-1&&(o=0),T(t,o,i)}return n}function j(t,o){const i=o.data;let e,n=i.slidesWidth,s=t.offsetLeft;return e=o.settings.carousel?s-(n-i.slideWidth)/2:s,e}function z(t,o){const i=o.arrays.slides.length,e=o.data.dotsToShow||i;let n,s=function(t,o,i){let e=!0;e=t>o;0===t&&o===i-1&&(e=!0);t===i-1&&0===o&&(e=!1);return e}(t,o.indexPrev,i);if(t>e-1){n=t<i-1&&t<e?e-1:0,s=!0}else t<0?(n=e-1,s=!1):n=t;return o.state.scrollingForward=s,parseInt(n)}function L(t){return t=t||2e3,new Promise((o=>{setTimeout((()=>{o()}),t)}))}function R(t){b(t.baseSettings,"infinite")&&(t.Events.on("build.before",M),t.Events.on("build.before",O),t.Events.on("initialize",k),t.Events.on("goto.before",B))}function k(o){M(o),function(o){const i=t.scroll.none,e=o.content.slides,n=o.arrays.clones,s=t.state.destroyed,r=o.data.runSlider;if(!0===r&&o.settings.infinite){e.classList.add(i);for(const t of n)t.classList.remove(s)}else{e.classList.remove(i);for(const t of n)t.classList.add(s)}}(o),o.Events.emit("goto",o,0)}function M(t){let o=0;const i=t.arrays.slides.length,e=function(t,o){const i=[t[o]],e=t.responsive;if(e)for(const t of e){const e=t.settings;e.hasOwnProperty(o)&&i.push(e[o])}return Math.max(...i)}(t.baseSettings,"slidesToShow");o=o>i?i:e+1,t.data.cloneCount=o}function O(o){const e=o.arrays.slides,n=e.length,s=o.data.cloneCount,r=[t.content.clone];let c=[],a=[];var l;o.settings.infinite||r.push(t.state.destroyed),l=o.slider,new MutationObserver((function(t,o){"childList"===t[0].type&&(document.dispatchEvent(window.SpSlider.sliderRendered),o.disconnect())})).observe(l,{characterData:!1,childList:!0,attributes:!1,subtree:!0});const d=document.createDocumentFragment(),f=document.createDocumentFragment();for(let t=0;t<n;t++){const o=t<s,l=t>n-s-1;if(i(e[t],"data-slide-index",t),o){const o=e[t].cloneNode(!0);o.classList.add(...r),d.append(o),a.push(o)}if(l){const o=e[t].cloneNode(!0);o.classList.add(...r),f.append(o),c.push(o)}}o.arrays.clones=c.concat(a),o.arrays.allSlides=c.concat(e,a),e[0].before(f),e[n-1].after(d)}function B(o){if(!o.settings.infinite)return;const i=o.content.slides,e=t.scroll.noTransition,n=function(t){const o=t.index,i=t.arrays.allSlides,e=t.arrays.slides,n=e.length;let s=!1;const r=t.state.scrollingForward,c=o>=n-1&&!r,a=o<=0&&r;(a||c)&&(a&&(s=i[i.indexOf(e[0])-1]),c&&(s=i[i.indexOf(e[n-1])+1]));return s}(o);if(!n)return void o.Events.emit("index.changed",o);i.classList.add(e);const s=j(n,o);i.style.transform=`translateX(-${s}px)`,L(10).then((()=>{i.classList.remove(e)}))}function I(t){const o=t.baseSettings.responsive,i=[];if(o)for(const e of o){const o=window.matchMedia(`(max-width:${e.breakpoint}px)`);i.push(`${e.breakpoint}px`),o.addEventListener?o.addEventListener("change",(()=>{E(t)})):o.addListener((()=>{E(t)}))}return i}function E(t){t.Events.emit("initialize.before",t),t.Events.emit("initialize",t),t.Events.emit("initialize.after",t)}function P(t){return t.EventListeners.on("variantUpdate",document,V.bind(null,t)),{customEvent:"variantUpdate"}}function V(t,o){const i=parseInt(o.detail.index),e=document.getElementById(o.detail.slideshowID)===t.slider;i>=0&&e&&t.Events.emit("goto",t,i)}function A(t){b(t.baseSettings,"fade")&&t.Events.on("initialize",D)}function D(o){const i=o.settings.fade,e=t.content.slidesFade,n=o.content.slides;i&&n.classList.add(e),i||n.classList.remove(e)}class X{constructor(t={}){this.Events=t}on(t,o){if(Array.isArray(t))for(let i=0;i<t.length;i++)this.on(t[i],o);else this.Events.hasOwnProperty(t)||(this.Events[t]=[]),this.Events[t].push(o)}emit(t,o={},i=null,e=null){if(this.Events.hasOwnProperty(t))for(const n of this.Events[t])n(o,i,e)}}class C{constructor(t={}){this.callbacks=t}on(t,o,i,e=!1){"string"==typeof t&&(t=[t]);for(let n=0;n<t.length;n++)o&&(this.callbacks[t[n]]=i,o.addEventListener(t[n],this.callbacks[t[n]],e))}}function W(t){const o={root:t.slider,rootMargin:"50% 0%",threshold:.9},i=new IntersectionObserver(Y.bind(null,t),o);for(const o of t.arrays.allSlides)i.observe(o)}async function Y(o,i){o.settings.destroy||(!function(t,o){let i=!1;for(const e of t){const t=e.target;e.isIntersecting||H(o,t),e.isIntersecting&&(F(o,t),i=!0)}}(i,o),function(o){const{carousel:i,infinite:e}=o.settings,n=o.arrays.activeSlides,s=i||e?Math.floor(n.length/2):0,r=o.arrays.activeSlides[s],c=t.state.current;for(const t of o.arrays.allSlides)t.classList.remove(c);r&&r.classList.add(c)}(o),async function(t){if(!t.state.isScrolling){const o=t.arrays.slides.indexOf(t.arrays.activeSlides[0]);o>-1&&(t.indexPrev=t.index,t.index=z(o,t),t.Events.emit("index.changed",t)),t.Events.emit("update.dots",t)}}(o),o.Events.emit("slides.activate",o))}function F(t,o){const i=t.arrays.activeSlides,e=-1==i.indexOf(o),n=t.settings.slidesToShow,s=t.state.scrollingForward;if(e){const t=i.length-n;if(s?i.push(o):i.unshift(o),t>0){if(s)for(let o=0;o<t;o++)i.splice(o,1);s||i.splice(n,i.length-1)}}}function H(t,o){const i=t.arrays.activeSlides,e=i.indexOf(o);e>-1&&i.splice(e,1)}async function N(o,i,e){if(i===o.index)return;const n=o.content.slides;null==e&&(e=!0),o.slider.classList.contains("sp-slider--active")||(e=!1),e||n.classList.add(t.noTransition),o.indexPrev=o.index,o.index=z(i,o),o.Events.emit("update.dots",o),o.state.isScrolling=!0,o.Events.emit("goto.before",o),await L(10),await async function(o,i,e=!0){if(o){const n=i.content.slides,s=i.arrays.dots,r=t.state.isScrolling;let c,a=j(o,i);if(n.classList.add(r),J(s,!1),i.settings.infinite||i.settings.fade){function l(){e||(n.style.transition="none"),n.style.transform=`translateX(-${a}px)`,e||L(500).then((()=>{n.style.transition="transform .5s ease-out"}))}window.requestAnimationFrame(l)}else c=i.state.lessMotion||!e?"instant":"smooth",n.scroll({top:0,left:a,behavior:c});e&&await L(650),n.classList.remove(r),J(s,!0)}}(o.arrays.slides[o.index],o,e),await L(15),o.state.isScrolling=!1,e||n.classList.remove(t.noTransition),o.Events.emit("goto.after",o)}function J(t,o){if(o)for(const o of t)e(o,"disabled");if(!o)for(const o of t){!o.checked&&i(o,"disabled","true")}}function U(o){const i=o.content.dots,e=t.state.dotsVisible;o.settings.dotsShow&&i?(function(o,i){const e=o.settings,n=e.destroy,s=e.dotsVertical,r=e.dotThumbnails,c=o.arrays.dots,a=t.state.dotsVisible,l=t.state.dotsVertical,d=t.state.dotThumb,f=t.state.dotStandard,u=t.state.destroyed;let h="",p="";s?i.classList.add(l):i.classList.remove(l);r?(h=d,p=f):(h=f,p=d);for(const t of c)t.classList.add(h),t.classList.remove(p);n?i.classList.add(u):i.classList.add(a)}(o,i),function(t){const o=t.settings.dotThumbnails,i=t.arrays.dots;if(o)for(const t of i){const o=t.nextElementSibling;o&&o.hasAttribute("data-slide-image")&&o.setAttribute("data-srcbackground",o.getAttribute("data-slide-image"))}else for(const t of i){const o=t.nextElementSibling;o.removeAttribute("data-srcbackground"),o.style="",o.className=""}}(o),function(o){const i=o.arrays.dots.length,e=o.arrays.dots,n=t.state.destroyed,s=function(t){const o=t.arrays.slides.length,i=t.data.dotsToShow;let e=0;e=parseInt(Math.ceil(o-(t.settings.slidesToShow-1))),t.settings.carousel&&e++;(i>o||e>o)&&(e=o);(t.settings.infinite||t.settings.dotThumbnails)&&(e=o);return e}(o);o.data.dotsToShow=s;for(let t=0;t<i;t++){const o=e[t].parentElement;t<s?o.classList.remove(n):o.classList.add(n)}}(o),function(o){const i=t.state.dotsOverflowing,e=o.clientWidth<o.scrollWidth;e?o.classList.add(i):o.classList.remove(i)}(i)):i&&i.classList.remove(e)}async function G(o){const i=o.index,e=o.arrays.slides.length,n=o.arrays.dots,s=t.content.dotCurrent;if(i<e&&i>=0)for(let t=0;t<n.length;t++){const e=n[t];t==i&&(e.classList.add(s),e.checked=!0,q(o,e)),t!=i&&(e.classList.remove(s),e.checked=!1)}}function q(t,o){const i=t.settings.dotsVertical,e=t.content.dots,n=t.arrays.dots.length;let s,r,c,a;i&&(s=e.clientHeight,r=o.offsetHeight,a=o.parentElement.offsetTop-(s-r),c=0),i||(s=e.clientWidth,r=o.offsetWidth,c=o.parentElement.offsetLeft-(s-r),a=0),n*r>s&&e.scroll({left:c,top:a,behavior:"smooth"})}const K=()=>{document.dispatchEvent(window.SpSlider.sliderRendered)};function Q(t){t.Events.emit("index.changed",t)}async function Z(o,s){let r=o.data.runSlider;!1!==s&&!0!==s||(r=s),o.arrays.activeSlides=[];for(let t=0;t<o.settings.slidesToShow;t++)o.arrays.activeSlides.push(o.arrays.slides[t]);n(o,r),function(o,i){(function(t,o){const i=t.content.slides,e=t.arrays.slides;let n=e.length;const s=t.settings,r=s.slidesToShow,c=s.carouselOffset,a=s.offsetLeft||0,l=s.offsetRight||0,d=s.carousel,f=s.infinite;let u,h=a?`${a}%`:"",p=l?`${l}%`:"";f&&(n+=t.arrays.clones.length);d&&(u=f?`repeat(${n}, ${(100-2*c)/r}%)`:`${h} repeat(${n}, ${(100-2*c)/r}%) ${p}`);d||(u=`${h} repeat(${n}, ${100/r}%) ${p}`);o?(i.style.gridTemplateColumns=u,i.style.transform="initial"):(i.style.removeProperty("transform"),i.style.removeProperty("grid-template-columns"))})(o,i),function(o,i){const e=i&&!o.settings.infinite&&(o.settings.offsetLeft||o.settings.offsetRight),n=[o.content.offsetLeft,o.content.offsetRight],s=t.state.destroyed;for(const t of n)t&&e&&t.classList.remove(s),t&&!e&&t.classList.add(s)}(o,i)}(o,r),function(t){t.data.slidesWidth=t.content.slides.getBoundingClientRect().width,t.data.slideWidth=t.arrays.slides[0].getBoundingClientRect().width}(o),function(t,o){const n=t.content.slides,s=t.settings.infinite;o&&!s&&i(n,"tabindex","0");o||e(n,"tabindex")}(o,r),function(t,o){const n=t.slider,s=t.content.slides,r=t.arrays.allSlides,c=r.length,a=t.arrays.slides.length;if(o){i(n,"role","region"),i(n,"aria-roledescription","carousel");const o=t.settings.ariaLabel||n.getAttribute("data-aria-label")||`Slideshow ${t.id}`;i(n,"aria-label",o),t.settings.autoplay?(e(s,"aria-atomic"),e(s,"aria-live")):(i(s,"aria-atomic","false"),i(s,"aria-live","polite"));for(let t=0;t<c;t++){const o=r[t],e=et(o,t,a);i(o,"role","group"),i(o,"aria-roledescription","slide"),i(o,"aria-label",e)}}if(!o){e(n,"role"),e(n,"aria-roledescription"),e(n,"aria-label"),e(s,"aria-live"),e(s,"aria-atomic");for(const t of r)e(t,"role"),e(t,"aria-roledescription"),e(t,"aria-label")}}(o,r),U(o),o.data.runSlider&&0!=o.index?o.Events.emit("goto",o,0,!1):o.settings.infinite&&o.settings.carousel&&o.Events.emit("goto",o,1,!1)}function tt(t){const o=t.settings.destroy,i=t.arrays.slides.length>t.settings.slidesToShow;t.data.runSlider=!o&&i}function ot(t){const o=t.arrays,i=t.settings.destroy;for(const t of o.allSlides){it(t,o.activeSlides.indexOf(t)>-1||i)}}function it(o,n){const s=function(t=document){return Array.from(t.querySelectorAll('a[href], button, input:not([type="hidden"]), textarea, select, details, [tabindex]:not([tabindex="-1"]), video')).filter((t=>!t.hasAttribute("disabled")))}(o),r=t.state.active;if(!n){for(const t of s)i(t,"tabindex","-1"),i(t,"aria-hidden","true");o.classList.remove(r),i(o,"aria-hidden","true")}if(n){for(const t of s){const o=t.dataset.tabbable;o&&"false"==o?i(t,"tabindex","-1"):e(t,"tabindex"),e(t,"aria-hidden")}o.classList.add(r),e(o,"aria-hidden")}}function et(t,o,i){let e,n;const s=t.getAttribute("data-slide-index");if(n=s?parseInt(s):o,t.hasAttribute("data-slide-label")){e=`${t.getAttribute("data-slide-label")}, ${n+1} of ${i}`}else e=`${n+1} of ${i}`;return e}const nt=function(){!function(){window.SpSlider=window.SpSlider||{};const t=window.SpSlider;t.uniqueId=window.SpSlider.uniqueId||1,t.instances=t.instances||[],t.sliderRendered=t.sliderRendered||new Event("fmSlideshowRendered"),t.stylesheet=t.stylesheet||!1,t.stylesLoaded=t.stylesLoaded||!1,t.stylesheetRendered=t.stylesheetRendered||new Event("fmSlideshowStylesRendered")}(),function(){const t=window.fmData.theme.SpSliderStylesheetLink;if(0!=window.SpSlider.stylesheet||!t)return!1;window.SpSlider.stylesheet=t;const i=o("link");i.rel="stylesheet",i.href=t,i.type="text/css",document.head.appendChild(i),i.onload=function(){window.SpSlider.stylesLoaded=!0,document.dispatchEvent(window.SpSlider.stylesheetRendered)}}();return class{constructor(t,o){const i="string"==typeof(e=t)||e instanceof String?document.querySelector(e):"node"==typeof e||"object"==typeof e||e instanceof Object?e:(console.error(`The passed element was a ${typeof e}, not a string, object, or node.`),!1);var e;if(!i)return;const n=function(t,o){const i=t.fmSlideID;return void 0!==i?window.SpSlider.instances[i]:(window.SpSlider.instances[window.SpSlider.uniqueId]=o,t.fmSlideID=window.SpSlider.uniqueId,window.SpSlider.uniqueId++,!1)}(i,this);if(n)return n;this.EventListeners=new C,this.Events=new X,a(this,i,o),this.components=function(t){return{controls:_(t),breakpoints:I(t),autoplay:y(t),infinite:R(t),variant:P(t),fade:A(t)}}(this);window.SpSlider.stylesLoaded?this.setupSlideshow():document.addEventListener("fmSlideshowStylesRendered",this.setupSlideshow.bind(this))}setupSlideshow(){f(this),g(this),async function(t){const{fade:o}=t.settings;K(),t.Events.on("update.dots",G),t.Events.on("initialize.before",tt),t.Events.on("initialize",Z),t.Events.on(["initialize","slides.activate"],ot),t.Events.on("initialize.after",K),t.Events.on("goto",N),o&&t.Events.on("goto.after",Q),W(t),t.Events.emit("initialize.before",t),t.Events.emit("initialize",t),t.Events.emit("initialize.after",t)}(this)}advanceSlideshow(t=1){this.Events.emit("goto",this,this.index+t)}goTo(t,o=!0){this.Events.emit("goto",this,t,o)}initialize(){this.Events.emit("initialize",this)}destroy(){this.Events.emit("initialize",this,!1)}}}(),st=".recently-viewed-products__wrapper",rt=".product-thumb",ct=".recently-viewed-products__products",at=".js-recently-viewed-products-slider",lt="data-max-products",dt="slider-loaded",ft={ariaLabel:"Recently Viewed Products",slidesToShow:7.2,slidesToScroll:1,infinite:!0,carousel:!0,carouselOffset:3,offsetLeft:3,offsetRight:3,selectors:{slides:`${at} ${".js-recently-viewed-products-slides"}`,prevBtn:`${at} ${".js-sp-slider-prev"}`,nextBtn:`${at} ${".js-sp-slider-next"}`},responsive:[{breakpoint:419,settings:{slidesToShow:2.2,offsetLeft:4,offsetRight:4}},{breakpoint:479,settings:{slidesToShow:2.5,offsetLeft:4,offsetRight:4}},{breakpoint:767,settings:{slidesToShow:3.3,offsetLeft:5,offsetRight:5}},{breakpoint:1023,settings:{slidesToShow:4.2,offsetLeft:2.2,offsetRight:2.2}},{breakpoint:1439,settings:{slidesToShow:4.8,offsetLeft:2.2,offsetRight:2.2}},{breakpoint:1679,settings:{slidesToShow:5.4,offsetLeft:2.2,offsetRight:2.2}},{breakpoint:1919,settings:{slidesToShow:6.2,offsetLeft:2.2,offsetRight:2.2}}]};class ut extends HTMLElement{constructor(){super(),this.container=this,this.wrapper=this.container.closest(st),this.productContainer=this.container.querySelector(ct),this.data={},this.data.maxProducts=this.container.hasAttribute(lt)?parseInt(this.container.getAttribute(lt)):4}connectedCallback(){this.o()}o(){if(localStorage.getItem("recently-viewed")){let t=JSON.parse(localStorage.getItem("recently-viewed"));t.reverse();let o=t.length>this.data.maxProducts?this.data.maxProducts:t.length,i=[];for(let e=0;e<o;e++){const o=t[e];i.push(this.i(o))}Promise.all(i).then((()=>{window.EventBus.emit("content:changed"),this.l()}))}else this.u()}async i(t){return fetch(`/products/${t}?view=recently-viewed`).then((t=>t.text())).then((t=>{const o=(new DOMParser).parseFromString(t,"text/html").body.querySelector(rt),i=document.createElement("div");i.append(o),this.productContainer.append(i)}))}h(){this.container.classList.add(dt)}l(){new nt(`${at}`,ft),this.h()}u(){this.wrapper&&this.wrapper.remove()}}var ht,pt;ht="recently-viewed-products",pt=ut,void 0===customElements.get(ht)&&customElements.define(ht,pt)}));