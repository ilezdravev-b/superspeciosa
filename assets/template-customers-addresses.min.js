!function(t){"function"==typeof define&&define.amd?define("customersAddresses",t):t()}((function(){"use strict";function t(t){return t=t||2e3,new Promise((e=>{setTimeout((()=>{e()}),t)}))}const e="is-active",s="is-visible",i=(t,e)=>{for(const s of e){const e="true"==s.getAttribute("aria-expanded")?"false":"true";s!=t&&s.setAttribute("aria-expanded",e)}},n=async(i,n,o)=>{i.setAttribute("aria-expanded","false"),o.classList.remove(s),n.focus(),await t(300),o.classList.remove(e)},o=async(i,n)=>{i.setAttribute("aria-expanded","true"),n.classList.add(e),await t(10),n.classList.add(s)},r=t=>{const e=t.target,s=e.closest(".js-accordion-parent"),r=t.type;if(!s)return;const a=[...s.querySelectorAll(".js-accordion-btn")],c=a[0].getAttribute("aria-controls"),d=document.getElementById(c);"click"===r&&a.includes(e)&&((t,e,s,r)=>{const a=e.getAttribute("aria-expanded");t.stopImmediatePropagation(),i(e,s),"true"===a&&n(e,s[0],r),"false"===a&&o(e,r)})(t,e,a,d),"keydown"===r&&d&&((t,e,s,o)=>{"Escape"===t.key&&(t.stopImmediatePropagation(),i(e,s),n(e,e,o),e.focus())})(t,a[0],a,d)};document.addEventListener("click",r),document.addEventListener("keydown",r,!0);const a=".js-address-country",c=".js-address",d=".js-customer-address-delete",h="formId",u="Are you sure you want to delete this address?",f="address_country_",l="address_province_",p="address_province_container_",m="new";class y extends HTMLElement{constructor(){super(),this.elements={container:this,addressContainer:this.querySelector(c),countrySelects:this.querySelectorAll(a)},document.addEventListener("click",this.t.bind(this)),this.elements.addressContainer&&this.elements.countrySelects&&this.i()}t(t){if(!t.target.closest(d))return;t.preventDefault(),t.stopPropagation();const e=t.target.closest("form");window.confirm(u)&&e.submit()}i(){if(Shopify&&Shopify.CountryProvinceSelector){const t=m;new Shopify.CountryProvinceSelector(`${f}${t}`,`${l}${t}`,{hideElement:`${p}${t}`}),this.elements.countrySelects.forEach((t=>{const e=t.getAttribute(h);new Shopify.CountryProvinceSelector(`${f}${e}`,`${l}${e}`,{hideElement:`${p}${e}`})}))}}}var v,$;Shopify.setSelectorByValue=function(t,e){[...t.options].forEach(((s,i)=>{if(s.value===e)return t.selectedIndex=i,i}))},Shopify.CountryProvinceSelector=class{constructor(t,e,s){this.countryEl=document.getElementById(t),this.provinceEl=document.getElementById(e),this.provinceContainer=document.getElementById(s.hideElement||e),this.countryEl.addEventListener("change",this.countryHandler.bind(this)),this.initCountry(),this.initProvince()}initCountry(){var t=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,t),this.countryHandler()}initProvince(){var t=this.provinceEl.getAttribute("data-default");t||(this.provinceEl.selectedIndex=0),t&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,t)}countryHandler(t){var e=(n=this.countryEl.options[this.countryEl.selectedIndex]).getAttribute("data-provinces"),s=JSON.parse(e);if(this.clearOptions(this.provinceEl),s&&0==s.length)this.provinceContainer.style.display="none";else{for(var i=0;i<s.length;i++){var n;(n=document.createElement("option")).value=s[i][0],n.innerHTML=s[i][1],this.provinceEl.appendChild(n)}this.provinceContainer.style.display=""}}clearOptions(t){for(;t.firstChild;)t.removeChild(t.firstChild)}},v="account-addresses",$=y,void 0===customElements.get(v)&&customElements.define(v,$)}));